@if (data.type === 'vendor') {
    <div class="dialog-content  bg-secondaryBg p-[15px]">
        <div class="flex flex-col">
          <div class="relative 2k:!h-[900px] mac16:!h-[730px] mxl:!h-[545px] lxl:!h-[800px] w-full">
            <div
            
            class="2k:!h-[900px] mac16:!h-[730px] mxl:!h-[545px] lxl:!h-[800px] overflow-auto relative resizable-image bg-secondary-heiglight flex justify-center items-center"
          >
            @if (data?.images?.presigned_url) {
              <div
                class="cursor-grab"
                
                style="position: absolute; top: 0px; bottom: 0; left: 0; right: 0;"

              >
              <ngx-panzoom
              #PanZoom
              [zoomLevels]="20"
              [initialZoomLevel]=".1" 
              [neutralZoomLevel]=".1"
              [zoomStepDuration]="2"
              [freeMouseWheelFactor]=".01"
              [zoomToFitZoomLevelFactor]="1"
              [initialPanX]="400"
              [initialPanY]="100"
              [zoomButtonIncrement]=".3"
            >
              <div class="relative">
                <img
                
                [src]="data?.images?.presigned_url"
                alt="Preview"
                class="object-contain"
              />
              </div>
            </ngx-panzoom>
              </div>
            } @else {
              <span class="text-lg leading-6 font-semibold text-secondary-heiglight">
                Image not found
              </span>
            }
          </div>   
          </div>   
            <div class="flex flex-col bg-primaryBg p-[15px] gap-[15px] items-end justify-between font-Barlow">
              <div class="flex gap-[15px] w-full justify-between">
                <div class="flex flex-col gap-[10px] w-[170px] flex-0 items-start justify-center">
                  <span class="flex-0 text-secondary-heiglight font-Barlow font-bold text-xs leading-[18px]">Date</span>
                  <div class="flex gap-[5px]">
                    <span class="text-secondaryText font-medium leading-[18px]">{{ data?.images?.acquisition_datetime | dateFormat}}</span>
                    <span class=" text-secondaryText font-medium leading-[18px]">{{data?.images?.acquisition_datetime | timeFormat}}</span>
                </div>
                </div>
                <div class="flex flex-col gap-[10px] w-[115px] flex-0 items-start justify-center">
                  <span class="flex-0 text-secondary-heiglight font-Barlow font-bold text-xs leading-[18px]">Sensor</span>
                    <div class="flex items-center gap-[15px] self-stretch w-full">
                      <span class="text-secondaryText text-center text-sm font-medium leading-[18px]">{{data?.images?.sensor}}</span>
                    </div>
                </div>
                <div class="flex flex-col gap-[10px] w-[115px] flex-0 items-start justify-center">
                  <!-- <div class="flex flex-col items-start gap-[5px] self-stretch"> -->
                    <span class="flex-0 text-secondary-heiglight font-Barlow font-bold text-xs leading-[18px]">Vendor</span>
                    <div class="flex items-center gap-[15px] self-stretch w-full">
                      <span class="text-secondaryText text-center text-sm font-medium leading-[18px]">{{data?.images?.vendor_name}}</span>
                    </div>
                  <!-- </div> -->
                </div>    
                <div class="flex flex-col gap-[10px] w-[50px] flex-0 items-start justify-center">
                  <span class="flex-0 text-secondary-heiglight font-Barlow font-bold text-xs leading-[18px]">Clouds</span>
                    <div class="flex items-center gap-[15px] self-stretch w-full">
                      <span class="text-secondaryText text-center text-sm font-medium leading-[18px]">{{data?.images?.vendor_name !== 'capella' && data?.images?.vendor_name !== 'skyfi-umbra'? roundOff(data?.images?.cloud_cover)+ '%':'SAR'}}</span>
                    </div>
                </div>
                <div class="flex flex-col gap-[10px] w-[60px] flex-0 items-start justify-center">
                  <span class="flex-0 text-secondary-heiglight font-Barlow font-bold text-xs leading-[18px]">GSD</span>
                    <div class="flex items-center gap-[15px] self-stretch w-full">
                      <span class="text-secondaryText text-center text-sm font-medium leading-[18px]">{{toDecimal(data?.images?.gsd)}}m</span>
                    </div>
                </div>
                <div class="flex flex-col gap-[10px] w-[80px] flex-0 items-start justify-center">
                  <span class="flex-0 text-secondary-heiglight font-Barlow font-bold text-xs leading-[18px]">Type</span>
                    <div class="flex items-center gap-[15px] self-stretch w-full">
                      <span class="text-secondaryText text-center text-sm font-medium leading-[18px]">{{getTimePeriod(data?.images?.acquisition_datetime)}}</span>
                    </div>
                </div>
                <div class="flex flex-col gap-[10px] w-[140px] mac16:!w-[237px] flex-0 items-start justify-center">
                  <span class="flex-0 text-secondary-heiglight font-Barlow font-bold text-xs leading-[18px]">ID</span>
                    <div class="flex items-center gap-[15px] self-stretch w-full">
                      <span class="text-secondaryText break-words text-center text-sm font-medium leading-[18px] w-[140px] mac16:!w-[237px]">{{data?.images?.vendor_id}}</span>
                    </div>
                </div>
              </div>
                <div>
                    <img src="assets/svg-icons/cross-icon.svg" class="cursor-pointer" (click)="closeDialog()" alt="">
                </div>
            </div>
        </div>
    </div>
}@else{
    <div class="dialog-content  bg-secondaryBg p-[15px]">
        <div class="flex flex-col">
          <div class="relative 2k:!h-[900px] mac16:!h-[730px] mxl:!h-[545px] lxl:!h-[800px] w-full">
            <div
            
            class="2k:!h-[900px] mxl:!h-[545px] mac16:!h-[730px] lxl:!h-[800px] overflow-auto relative resizable-image bg-secondary-heiglight flex justify-center items-center"
          >
            @if (data.images.data[currentIndex].presigned_url) {
             
              <div
              class="cursor-grab"
              style="position: absolute; top: 0px; bottom: 0; left: 0; right: 0;"
              
       
            >
            <!-- <pinch-zoom [wheel]="true">
            

          </pinch-zoom> -->

            <ngx-panzoom
            #PanZoom
            [zoomLevels]="20"
            [initialZoomLevel]=".1" 
            [neutralZoomLevel]=".1"
            [zoomStepDuration]="2"
            [freeMouseWheelFactor]=".009"
            [zoomToFitZoomLevelFactor]="1"
            [initialPanX]="400"
            [initialPanY]="100"
            [zoomButtonIncrement]=".3"
          >
            <div class="relative">
              <img
              
              [src]="data?.images?.data[currentIndex]?.presigned_url"
              class="object-contain"
            />
            </div>
          </ngx-panzoom>
     

            </div>
            
            <div class="flex ml-[8px]">
              <!-- <button class="flex justify-center w-[115px] !text-[#453303] items-center text-center h-[38px] py-[10px] bg-yellow rounded-[5px]" (click)="PanZoom.zoomOut('lastPoint')">back</button> -->
            </div>

            } @else {
              <span class="text-lg leading-6 font-semibold text-secondary-heiglight">
                Image not found
              </span>
            }
          </div>    
        </div>  
          <div class="flex flex-col bg-primaryBg p-[15px] gap-[15px] items-end justify-between font-Barlow">              
                <div class="flex gap-[15px] w-full justify-between">
                  <div class="flex flex-col gap-[10px] w-[170px] flex-0 items-start justify-center">
                    <span class="flex-0 text-secondary-heiglight font-Barlow font-bold text-xs leading-[18px]">Date</span>
                    <div class="flex gap-[5px]">
                      <span class="text-secondaryText font-medium leading-[18px]">{{ data?.images?.data[currentIndex]?.acquisition_datetime | dateFormat}}</span>
                      <span class=" text-secondaryText font-medium leading-[18px]">{{data?.images?.data[currentIndex]?.acquisition_datetime | timeFormat}}</span>
                  </div>
                  </div>
                  <div class="flex flex-col gap-[10px] w-[115px] flex-0 items-start justify-center">
                    <span class="flex-0 text-secondary-heiglight font-Barlow font-bold text-xs leading-[18px]">Sensor</span>
                      <div class="flex items-center gap-[15px] self-stretch w-full">
                        <span class="text-secondaryText text-center text-sm font-medium leading-[18px]">{{data?.images?.data[currentIndex]?.sensor}}</span>
                      </div>
                  </div>
                  <div class="flex flex-col gap-[10px] w-[115px] flex-0 items-start justify-center">
                    <!-- <div class="flex flex-col items-start gap-[5px] self-stretch"> -->
                      <span class="flex-0 text-secondary-heiglight font-Barlow font-bold text-xs leading-[18px]">Vendor</span>
                      <div class="flex items-center gap-[15px] self-stretch w-full">
                        <span class="text-secondaryText text-center text-sm font-medium leading-[18px]">{{data?.images?.data[currentIndex]?.vendor_name}}</span>
                      </div>
                    <!-- </div> -->
                  </div>    
                  <div class="flex flex-col gap-[10px] w-[50px] flex-0 items-start justify-center">
                    <span class="flex-0 text-secondary-heiglight font-Barlow font-bold text-xs leading-[18px]">Clouds</span>
                      <div class="flex items-center gap-[15px] self-stretch w-full">
                        <span class="text-secondaryText text-center text-sm font-medium leading-[18px]">{{data?.images?.data[currentIndex]?.vendor_name !== 'capella' && data?.images?.data[currentIndex]?.vendor_name !== 'skyfi-umbra'? roundOff(data?.images?.data[currentIndex]?.cloud_cover)+ '%':'SAR'}}</span>
                      </div>
                  </div>
                  <div class="flex flex-col gap-[10px] w-[60px] flex-0 items-start justify-center">
                    <span class="flex-0 text-secondary-heiglight font-Barlow font-bold text-xs leading-[18px]">GSD</span>
                      <div class="flex items-center gap-[15px] self-stretch w-full">
                        <span class="text-secondaryText text-center text-sm font-medium leading-[18px]">{{toDecimal(data?.images?.data[currentIndex]?.gsd)}}m</span>
                      </div>
                  </div>
                  <div class="flex flex-col gap-[10px] w-[80px] flex-0 items-start justify-center">
                    <span class="flex-0 text-secondary-heiglight font-Barlow font-bold text-xs leading-[18px]">Type</span>
                      <div class="flex items-center gap-[15px] self-stretch w-full">
                        <span class="text-secondaryText text-center text-sm font-medium leading-[18px]">{{getTimePeriod(data?.images?.data[currentIndex]?.acquisition_datetime)}}</span>
                      </div>
                  </div>
                  <div class="flex flex-col gap-[10px] w-[140px] mac16:!w-[237px] flex-0 items-start justify-center">
                    <span class="flex-0 text-secondary-heiglight font-Barlow font-bold text-xs leading-[18px]">ID</span>
                      <div class="flex items-center gap-[15px] self-stretch w-full">
                        <span class="text-secondaryText break-words text-center text-sm font-medium leading-[18px] w-[140px] mac16:!w-[237px]">{{data?.images?.data[currentIndex]?.vendor_id}}</span>
                      </div>
                  </div>
                </div>
                <div class="flex w-full justify-between items-center">
                  <div class="flex gap-[15px] h-[20px] items-center justify-between">
                    <span class="cursor-pointer flex w-[20px] h-[20px]"><img src="assets/svg-icons/left-arrow-icon.svg" alt="" (click)="previousImage()"></span>
                    <span class="cursor-pointer flex w-[20px] h-[20px]"><img src="assets/svg-icons/right-arrow-icon.svg" alt="" (click)="nextImage()"></span>
                  </div>
                  <div>
                      <img src="assets/svg-icons/cross-icon.svg" class="cursor-pointer" (click)="closeDialog()" alt="">
                  </div>
                </div>
            </div>
        </div>
    </div>
} 